<%= turbo_frame_tag "vote_actions" do %>
  <% if issue.present? %>
    <% if issue.points_revealed_at %>
      <%= render "pokers/components/revealed_points", issue: issue %>
    <% else %>
      <% if poker.persisted? %>
        <%= button_to "Clear your vote", game_room_poker_path(issue.game_room, poker), method: :delete, data: { confirm: "Are you sure?" }, class: "btn btn-outline-danger ml-2", style: "float: right;" %>
      <% end %>

      <%= link_to display_vote_text(issue), new_game_room_poker_path(issue.game_room), data: { turbo_frame: 'modal' }, class: "btn btn-outline-primary", style: "float: right; margin-right: 1em;" %>

      <% if issue.pokers.present? && policy(issue).reveal_votes? %>
        <%= button_to "Reveal Votes", game_room_issue_reveal_votes_path(issue.game_room, issue), method: :put, class: "btn btn-outline-primary", style: "float: right; margin-right: 1em;" %>
      <% end %>
    <% end %>
  <% end %>
<% end %>